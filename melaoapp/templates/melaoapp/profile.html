{% extends 'melaoapp/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}Melao - Perfil{% endblock %}

{% block static_css %}
{{ block.super }}
    <link rel="stylesheet" href="{% static 'melaoapp/css/profile.css' %}">
{% endblock %}

{% block content %}
    <div class="ProfilePannel">
        {% if request.user.student.profile_picture %} 
            <img id="ProfileImage" alt ="{% trans "Profile image" %}" src="{{ request.user.student.profile_picture.url }}">
        {% else %}
            <img id="ProfileImage" alt ="{% trans "Profile image" %}" src="{% static "melaoapp/img/EthanHuntProfile.png" %}">
        {% endif %}

        <p id="ProfileName">{{ full_name }}</p>
        <div class="ProfileButtonsDiv">
            <a href="{% url 'melaoapp:modify_profile' %}">
                <input type="button" value="{% trans "Edit profile" %}" class="ProfileButton" id="EditProfileButton"/>
            </a>
            <input type="button" value="{% trans "Share profile" %}" class="ProfileButton" id="ShareProfileButton"/>
        </div>
        <p class="title">{% trans "About me" %}</p>
        <p class="about-me">{{ self_description }}</p>
        <p class="title">{% trans "Posts" %}</p>
        <div class="Posts">
            <div class="Home-pannel mobile-content">
                {% for post in posts %}
                <div class="Home-post">
                    {% if post.username.profile_picture %}
                        <img class="profile-image" id="ProfileImage" alt="Foto de Perfil" src="{{ post.username.profile_picture.url }}" width="70" height="70" alt="X">
                    {% else %}
                        <img class="profile-image" id="ProfileImage" alt="Foto de Perfil" src="{% static 'melaoapp/img/EthanHuntProfile.png' %}" width="70" height="70" alt="X">
                    {% endif %}

                    <p class="person-name">{{ full_name }}</p>
                    <p class="Post-description">{{ post.description }}</p>
                    
                    {% if post.multimedia %}
                    <img src="{{ post.multimedia.url }}" class="post-image-mobile">
                    {% endif %}
                    
                    <p class="last_connection">{{ post.post_date }}</p>
                    <div class="Post-likes">
                        <img src="{% static 'melaoapp/img/Like.png' %}" width="20" height="20">
                        <p class="Likes-count">12</p>
                    </div>
                    <div class="Post-comments">
                        <img src="{% static 'melaoapp/img/Comment.png' %}" width="20" height="20">
                        <p class="Comments-count">5</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="Home-pannel desktop-content">
                {% for post in posts %}
                <div class="Post-pannel">
                    <div class="User-post-pannel">
                        {% if post.username.profile_picture %}
                            <img class="post-pfp" id="ProfileImage" alt="Foto de Perfil" src="{{ post.username.profile_picture.url }}" width="70" height="70" alt="X">
                        {% else %}
                            <img class="post-pfp" id="ProfileImage" alt="Foto de Perfil" src="{% static 'melaoapp/img/EthanHuntProfile.png' %}" width="70" height="70" alt="X">
                        {% endif %}
                        <div class="Person-name-div">
                            <p class="Person-name">{{ full_name }}</p>
                            <p class="Post-date">{{ post.post_date }}</p>
                        </div>
                        <p class="Post-description">{{ post.description }}</p>
                        
                        <div class="Post-image-container">
                            {% if post.multimedia %}
                                <img src="{{ post.multimedia.url }}" class="Post-image">
                            {% endif %}
                        </div>
                        
                        <div class="Post-likes">
                            <img src="/static/melaoapp/img/Like.png" class="Post-icon" alt="Like">
                            <p class="Post-likes-text">12</p>
                        </div>
                        <div class="Post-comments">
                            <img src="/static/melaoapp/img/Comment.png" class="Post-icon" alt="Comments">
                            <p class="Post-comments-text">5</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div> 
    </div>
{% endblock %}